{% extends 'student_base.html' %}
{% load static %}
{% block extra_styles %} <link rel="stylesheet" href="{% static 'main/css/student_submissions_list.css' %}">
{% endblock extra_styles %}

{% block body %}
  <h1>My Submissions</h1>
  <p class="description">View all the assignments youâ€™ve submitted and download your uploaded documents.</p>

  <div class="filter-bar">
    <form method="get">
      <label for="course">Course:</label>
      <select id="course" name="course">
        <option value="">All</option>
        {% for course in courses %}
        <option value="{{course.id}}"  {% if request.GET.course == course.id|stringformat:"s" %}  selected {% endif %} >{{course.name}}</option>
        {% endfor %}
      </select>

      <label for="assignment">Assignment:</label>
      <select id="assignment" name="assignment">
        <option value="">All</option>
        {% for assignment in assignments %}
        <option value="{{assignment.id}}" >{{assignment.title}}</option>
        {% endfor %}
      </select>
      <button type="submit">Filter</button>
    </form>
  </div>

  <div class="submission-list">
    {% for submission in submissions %}
    <div class="submission-card">
      <h3>Assignment: {{submission.assignment}}</h3>
      <p><strong>Course:</strong> {{submission.assignment.course.name}}</p>
      <p><strong>Submitted On:</strong> {{submission.submitted_on}}</p>
      <a href="#">Download Submission</a>
    </div>
    {% endfor %}
  </div>
  <div class="no-results" style="display: none;">
    <p>No submissions found for the selected filters.</p>
  </div>
{% endblock body %}